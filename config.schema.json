{
  "pluginAlias": "homebridge-airthings-ha",
  "pluginType": "accessory",
  "footerDisplay": "This plugin fetches Airthings sensor values from Home Assistant REST API. Provide the Home Assistant URL, long-lived access token, and entity IDs for the sensors you want to use.",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "required": true,
        "default": "Airthings Device"
      },
      "homeAssistantUrl": {
        "title": "Home Assistant URL",
        "type": "string",
        "required": true,
        "placeholder": "http://homeassistant.local:8123"
      },
      "homeAssistantToken": {
        "title": "Home Assistant Long-Lived Access Token",
        "type": "string",
        "required": true
      },
      "entities": {
        "title": "Home Assistant Entities",
        "type": "object",
        "properties": {
          "co2": {
            "title": "CO₂ Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_co2"
          },
          "humidity": {
            "title": "Humidity Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_humidity"
          },
          "pm25": {
            "title": "PM2.5 Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_pm25"
          },
          "pressure": {
            "title": "Pressure Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_pressure"
          },
          "radonShortTermAvg": {
            "title": "Radon (Short Term Avg) Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_radon"
          },
          "temp": {
            "title": "Temperature Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_temp"
          },
          "voc": {
            "title": "VOC Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_voc"
          },
          "battery": {
            "title": "Battery Entity ID",
            "type": "string",
            "required": false,
            "placeholder": "sensor.livingroom_airthings_battery"
          }
        }
      },
      "co2AirQualityDisabled": {
        "title": "CO₂ Disabled in Air Quality Sensor",
        "type": "boolean",
        "required": false
      },
      "humidityAirQualityDisabled": {
        "title": "Humidity Disabled in Air Quality Sensor",
        "type": "boolean",
        "required": false
      },
      "pm25AirQualityDisabled": {
        "title": "PM2.5 Disabled in Air Quality Sensor",
        "type": "boolean",
        "required": false
      },
      "radonAirQualityDisabled": {
        "title": "Radon Disabled in Air Quality Sensor",
        "type": "boolean",
        "required": false
      },
      "vocAirQualityDisabled": {
        "title": "VOC Disabled in Air Quality Sensor",
        "type": "boolean",
        "required": false
      },
      "co2DetectedThreshold": {
        "title": "CO₂ Detected Threshold (ppm)",
        "type": "number",
        "required": false,
        "placeholder": 1000
      },
      "radonLeakThreshold": {
        "title": "Radon Leak Threshold (Bq/m³)",
        "type": "number",
        "required": false
      },
      "debug": {
        "title": "Debug Logging",
        "type": "boolean",
        "required": false
      },
      "batteryDisabled": {
        "title": "Battery Service Disabled",
        "type": "boolean",
        "required": false
      },
      "refreshInterval": {
        "title": "Refresh Interval (seconds)",
        "type": "number",
        "required": false,
        "placeholder": 150
      }
    }
  },
  "layout": [
    {
      "type": "section",
      "title": "General Settings",
      "expandable": true,
      "expanded": true,
      "items": [
        {
          "items": [
            "name",
            "homeAssistantUrl",
            "homeAssistantToken"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "Entity IDs",
      "expandable": true,
      "expanded": true,
      "items": [
        {
          "items": [
            "entities.co2",
            "entities.humidity",
            "entities.pm25",
            "entities.pressure",
            "entities.radonShortTermAvg",
            "entities.temp",
            "entities.voc",
            "entities.battery"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "Sensor Settings (Optional)",
      "expandable": true,
      "expanded": false,
      "items": [
        {
          "items": [
            "co2AirQualityDisabled",
            "humidityAirQualityDisabled",
            "pm25AirQualityDisabled",
            "radonAirQualityDisabled",
            "vocAirQualityDisabled",
            "co2DetectedThreshold",
            "radonLeakThreshold"
          ]
        }
      ]
    },
    {
      "type": "section",
      "title": "Advanced Settings (Optional)",
      "expandable": true,
      "expanded": false,
      "items": [
        {
          "items": [
            "debug",
            "batteryDisabled",
            "refreshInterval"
          ]
        }
      ]
    }
  ]
}
